{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MultiColumnList } from './../common/MultiColumnList';\nimport { BrowserSupportService, classNames, getter } from '@progress/kendo-react-common';\nimport ComboBox from '../ComboBox/ComboBox';\n\nvar columnWidth = function (width, defaultWidth) {\n  if (width) {\n    return typeof width === 'number' ? width + 'px' : width;\n  }\n\n  return defaultWidth;\n};\n/**\n * Represents the MultiColumnComboBox component.\n */\n\n\nexport var MultiColumnComboBox = React.forwardRef(function (props, ref) {\n  var target = React.useRef(null);\n  var comboBoxRef = React.useRef(null);\n\n  var _a = React.useState(0),\n      scrollbarWidth = _a[0],\n      setScrollbarWidth = _a[1];\n\n  var _b = props.columns,\n      columns = _b === void 0 ? defaultProps.columns : _b,\n      _c = props.popupSettings,\n      popupSettings = _c === void 0 ? defaultProps.popupSettings : _c,\n      other = __rest(props, [\"columns\", \"popupSettings\"]);\n\n  var focus = React.useCallback(function () {\n    if (comboBoxRef.current) {\n      comboBoxRef.current.focus();\n    }\n  }, [comboBoxRef]);\n  React.useImperativeHandle(target, function () {\n    return {\n      element: comboBoxRef && comboBoxRef.current && comboBoxRef.current.element,\n      focus: focus,\n      props: props\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return target.current;\n  });\n  var popupWidth = React.useMemo(function () {\n    return 'calc(' + columns.map(function (column) {\n      return columnWidth(column.width, defaultProps.width);\n    }).filter(Boolean).join(' + ') + ')';\n  }, [columns]);\n  var header = React.useMemo(function () {\n    return React.createElement(\"div\", {\n      className: \"k-grid-header\",\n      style: {\n        paddingRight: scrollbarWidth\n      }\n    }, React.createElement(\"div\", {\n      className: \"k-grid-header-wrap\"\n    }, React.createElement(\"table\", {\n      role: \"presentation\"\n    }, React.createElement(\"colgroup\", null, columns.map(function (column, i) {\n      return React.createElement(\"col\", {\n        key: column.uniqueKey ? column.uniqueKey : i,\n        style: {\n          width: column.width ? column.width : defaultProps.width\n        }\n      });\n    })), React.createElement(\"tbody\", null, React.createElement(\"tr\", null, columns.map(function (column, i) {\n      return React.createElement(\"th\", {\n        key: column.uniqueKey ? column.uniqueKey : i,\n        className: \"k-header\"\n      }, column.header || \"\\u00A0\");\n    }))))));\n  }, [columns, scrollbarWidth]);\n  var skip = props.virtual ? props.virtual.skip : 0;\n  var itemRender = React.useCallback(function (li, liProps) {\n    var children = columns.map(function (column, i) {\n      return React.createElement(\"span\", {\n        className: \"k-cell\",\n        style: {\n          width: column.width ? column.width : defaultProps.width\n        },\n        key: column.uniqueKey ? column.uniqueKey : i\n      }, column.field ? getter(column.field)(liProps.dataItem) : '');\n    });\n    var group = undefined;\n    var curGroup,\n        prevGroup,\n        groupGetter,\n        data = props.data || [];\n    var index = liProps.index - skip;\n\n    if (props.groupField !== undefined) {\n      groupGetter = getter(props.groupField);\n      curGroup = groupGetter(data[index]);\n      prevGroup = groupGetter(data[index - 1]);\n\n      if (curGroup && prevGroup && curGroup !== prevGroup) {\n        group = curGroup;\n      }\n    }\n\n    if (group) {\n      children.push(React.createElement(\"div\", {\n        key: \"group\",\n        className: \"k-cell k-group-cell\"\n      }, React.createElement(\"span\", null, group)));\n    }\n\n    return React.cloneElement(li, __assign({}, li.props), children);\n  }, [columns, props.groupField, props.data, skip]);\n  var handleChange = React.useCallback(function (event) {\n    if (props.onChange) {\n      props.onChange.call(undefined, __assign({}, event, {\n        target: target.current\n      }));\n    }\n  }, [props.onChange, target]);\n  React.useEffect(function () {\n    setScrollbarWidth(new BrowserSupportService().scrollbarWidth);\n  }, []);\n  return React.createElement(ComboBox, __assign({\n    list: MultiColumnList,\n    header: header,\n    itemRender: itemRender,\n    onChange: handleChange,\n    popupSettings: __assign({\n      width: popupWidth\n    }, popupSettings, {\n      className: classNames('k-dropdowngrid-popup k-popup-flush', popupSettings.className)\n    })\n  }, other));\n});\n\nvar propTypes = __assign({}, ComboBox.propTypes, {\n  columns: PropTypes.any.isRequired\n});\n\nvar defaultProps = {\n  columns: [],\n  popupSettings: {},\n  width: '200px'\n};\nMultiColumnComboBox.displayName = 'KendoMultiColumnComboBox'; // TODO: delete casting when @types/react is updated!\n\nMultiColumnComboBox.propTypes = propTypes;\nMultiColumnComboBox.defaultProps = defaultProps;","map":{"version":3,"sources":["../../../src/MultiColumnComboBox/MultiColumnComboBox.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { MultiColumnList } from './../common/MultiColumnList';\nimport { BrowserSupportService, classNames, getter } from '@progress/kendo-react-common';\nimport ComboBox from '../ComboBox/ComboBox';\nvar columnWidth = function (width, defaultWidth) {\n    if (width) {\n        return typeof width === 'number' ? width + 'px' : width;\n    }\n    return defaultWidth;\n};\n/**\n * Represents the MultiColumnComboBox component.\n */\nexport var MultiColumnComboBox = React.forwardRef(function (props, ref) {\n    var target = React.useRef(null);\n    var comboBoxRef = React.useRef(null);\n    var _a = React.useState(0), scrollbarWidth = _a[0], setScrollbarWidth = _a[1];\n    var _b = props.columns, columns = _b === void 0 ? defaultProps.columns : _b, _c = props.popupSettings, popupSettings = _c === void 0 ? defaultProps.popupSettings : _c, other = __rest(props, [\"columns\", \"popupSettings\"]);\n    var focus = React.useCallback(function () {\n        if (comboBoxRef.current) {\n            comboBoxRef.current.focus();\n        }\n    }, [comboBoxRef]);\n    React.useImperativeHandle(target, function () { return ({\n        element: comboBoxRef && comboBoxRef.current && comboBoxRef.current.element,\n        focus: focus,\n        props: props\n    }); });\n    React.useImperativeHandle(ref, function () { return target.current; });\n    var popupWidth = React.useMemo(function () {\n        return 'calc(' +\n            columns.map(function (column) { return columnWidth(column.width, defaultProps.width); }).filter(Boolean).join(' + ') +\n            ')';\n    }, [columns]);\n    var header = React.useMemo(function () { return (React.createElement(\"div\", { className: \"k-grid-header\", style: { paddingRight: scrollbarWidth } },\n        React.createElement(\"div\", { className: \"k-grid-header-wrap\" },\n            React.createElement(\"table\", { role: \"presentation\" },\n                React.createElement(\"colgroup\", null, columns.map(function (column, i) {\n                    return React.createElement(\"col\", { key: column.uniqueKey ? column.uniqueKey : i, style: { width: column.width ? column.width : defaultProps.width } });\n                })),\n                React.createElement(\"tbody\", null,\n                    React.createElement(\"tr\", null, columns.map(function (column, i) {\n                        return (React.createElement(\"th\", { key: column.uniqueKey ? column.uniqueKey : i, className: \"k-header\" }, column.header || \"\\u00A0\"));\n                    }))))))); }, [columns, scrollbarWidth]);\n    var skip = props.virtual ? props.virtual.skip : 0;\n    var itemRender = React.useCallback(function (li, liProps) {\n        var children = columns.map(function (column, i) { return (React.createElement(\"span\", { className: \"k-cell\", style: { width: column.width ? column.width : defaultProps.width }, key: column.uniqueKey ? column.uniqueKey : i }, column.field ? getter(column.field)(liProps.dataItem) : '')); });\n        var group = undefined;\n        var curGroup, prevGroup, groupGetter, data = props.data || [];\n        var index = liProps.index - skip;\n        if (props.groupField !== undefined) {\n            groupGetter = getter(props.groupField);\n            curGroup = groupGetter(data[index]);\n            prevGroup = groupGetter(data[index - 1]);\n            if (curGroup && prevGroup && curGroup !== prevGroup) {\n                group = curGroup;\n            }\n        }\n        if (group) {\n            children.push(React.createElement(\"div\", { key: \"group\", className: \"k-cell k-group-cell\" },\n                React.createElement(\"span\", null, group)));\n        }\n        return React.cloneElement(li, __assign({}, li.props), children);\n    }, [columns, props.groupField, props.data, skip]);\n    var handleChange = React.useCallback(function (event) {\n        if (props.onChange) {\n            props.onChange.call(undefined, __assign({}, event, { target: target.current }));\n        }\n    }, [props.onChange, target]);\n    React.useEffect(function () {\n        setScrollbarWidth((new BrowserSupportService()).scrollbarWidth);\n    }, []);\n    return (React.createElement(ComboBox, __assign({ list: MultiColumnList, header: header, itemRender: itemRender, onChange: handleChange, popupSettings: __assign({ width: popupWidth }, popupSettings, { className: classNames('k-dropdowngrid-popup k-popup-flush', popupSettings.className) }) }, other)));\n});\nvar propTypes = __assign({}, ComboBox.propTypes, { columns: PropTypes.any.isRequired });\nvar defaultProps = {\n    columns: [],\n    popupSettings: {},\n    width: '200px'\n};\nMultiColumnComboBox.displayName = 'KendoMultiColumnComboBox';\n// TODO: delete casting when @types/react is updated!\nMultiColumnComboBox.propTypes = propTypes;\nMultiColumnComboBox.defaultProps = defaultProps;\n//# sourceMappingURL=MultiColumnComboBox.js.map"]},"metadata":{},"sourceType":"module"}