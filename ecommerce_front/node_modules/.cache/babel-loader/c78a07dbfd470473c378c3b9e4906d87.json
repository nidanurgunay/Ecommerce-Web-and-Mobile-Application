{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nidanurgunay/Desktop/cs308/e-commerce-frontend/src/product.js\";\nimport React, { Component } from \"react\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./SelectOpt\";\nimport \"./Checkbox\";\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport ReactStars from \"react-rating-stars-component\";\nimport { CardLink, Col, Container, Form, Input, Modal, Row } from \"reactstrap\";\nimport tracker from \"../src/api/tracker\";\nimport Alert from 'react-bootstrap/Alert';\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport menSneakers1 from \"./campaign1.jpg\";\nvar size = [];\nvar image = [];\n\nclass product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      try {\n        const id = this.props.match.params.id;\n        const im = this.props.match.params.ar;\n        const num = this.props.match.params.num;\n        console.log(num);\n        const response = await tracker.get(\"product/\" + id);\n        console.log(\"res\", response.data);\n        this.setState({\n          product: response.data,\n          name: response.data.name,\n          im: im,\n          num: num,\n          oldprice: response.data.price,\n          newprice: response.data.newprice,\n          desc: response.data.description\n        });\n        this.setState({\n          size: [...this.state.size, ...response.data.size],\n          images: [...this.state.images, ...response.data.image]\n        });\n        size = response.data.size;\n        image = response.data.image;\n        console.log(\"size\", this.state.size);\n        console.log(\"price\", this.state.price);\n        console.log(\"imagesss\", this.state.images);\n        console.log(\"image\", image);\n      } catch (e) {}\n    };\n\n    this.handleChangeSize = e => {\n      this.setState({\n        selectedsize: e.target.value\n      });\n    };\n\n    this.handleChangeQuantity = e => {\n      this.setState({\n        qnt: e.target.value\n      });\n    };\n\n    this.handleMenuItem = () => {\n      var menuitem = \"\";\n\n      if (this.state.im == \"mb\") {}\n\n      return menuitem;\n    };\n\n    this.handleBasket = async () => {\n      console.log(\"handlebaskett\");\n      var basket = localStorage.getItem(\"basket\");\n      const id = this.state.product._id;\n      var userId = localStorage.getItem(\"userId\");\n      this.setState({\n        userId: userId\n      });\n      console.log(\"basketıd\", basket);\n\n      if (basket === null) {\n        console.log(userId);\n\n        if (userId === null) {\n          try {\n            var tprice = this.state.newprice * this.state.qnt;\n            const response = await tracker.post(\"/basket\", {\n              productList: {\n                totalprice: tprice,\n                productArray: [{\n                  size: this.state.selectedsize,\n                  name: this.state.name,\n                  quantity: this.state.qnt,\n                  price: this.state.newprice,\n                  product: id\n                }]\n              }\n            });\n            console.log(\"cart\", response);\n            const basketid = response.data._id;\n            localStorage.setItem(\"basket\", basketid);\n          } catch (e) {}\n        } else {\n          console.log(\"elsedeyimm\");\n\n          try {\n            var tprice = this.state.newprice * this.state.qnt;\n            const response = await tracker.post(\"/basket\", {\n              user: userId,\n              productList: {\n                totalprice: tprice,\n                productArray: [{\n                  size: this.state.selectedsize,\n                  name: this.state.name,\n                  quantity: this.state.qnt,\n                  price: this.state.newprice,\n                  product: id\n                }]\n              }\n            });\n            console.log(\"cart\", response);\n            const basketid = response.data._id;\n            localStorage.setItem(\"basket\", basketid);\n          } catch (e) {}\n        }\n      } else {\n        try {\n          const basketresponse = await tracker.get(\"basket/\" + basket);\n          const sel_size = this.state.selectedsize;\n          const qua = this.state.qnt;\n          const price = this.state.newprice;\n          const p_name = this.state.name;\n          console.log(\"basket response: \", basketresponse);\n          var includes = false;\n          const array = basketresponse.data.productList.productArray;\n          console.log(\"array: \", array);\n\n          for (var i = 0; i < array.length; i++) {\n            console.log(\"array[i].product: \", array[i].product);\n\n            if (array[i].product === id) {\n              includes = true;\n              break;\n            } else includes = false;\n          }\n\n          var tprice = this.state.price * this.state.qnt;\n\n          if (includes === false) {\n            console.log(\"size:\", sel_size);\n            console.log(\"quantity:\", qua);\n            console.log(\"price:\", price);\n            console.log(\"name:\", p_name);\n            const response = await tracker.put(\"basket/\" + basket, {\n              size: this.state.selectedsize,\n              name: this.state.name,\n              quantity: this.state.qnt,\n              price: this.state.newprice,\n              product: id\n            });\n            console.log(\"baskette aynı ürün yok, response: \", response);\n          } else if (includes === true) {\n            console.log(\"baskette aynı ürün var 1 ekle\");\n\n            for (var i = 0; i < this.state.qnt; i++) {\n              const response = await tracker.put(\"basket/byOne/\" + basket, {\n                product: id\n              });\n              console.log(\"add_one response\", response);\n            }\n          }\n        } catch {}\n      }\n\n      ;\n    };\n\n    this.handleOptions = () => {\n      var opts = [];\n\n      for (var i = 0; i < this.state.size.length; i++) {\n        var opti = /*#__PURE__*/_jsxDEV(\"option\", {\n          value: this.state.size[i],\n          children: this.state.size[i]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 24\n        }, this);\n\n        opts.push(opti);\n      }\n\n      return opts;\n    };\n\n    this.handleLogin = () => {\n      var loggedin = localStorage.getItem('token');\n      console.log(\"token: \", loggedin);\n\n      if (loggedin === null) {\n        this.setState({\n          notloggedin: true\n        });\n      } else {\n        this.setState({\n          notloggedin: false\n        });\n      }\n    };\n\n    this.handlecrousel = () => {\n      var a = /*#__PURE__*/_jsxDEV(AliceCarousel, {\n        disableButtonsControls: true,\n        mouseTracking: false,\n        responsive: true,\n        autoPlay: true,\n        autoPlayInterval: \"3000\",\n        style: {\n          height: \"60vh\",\n          width: \"40\",\n          marginBottom: \"5vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"35vh\",\n            height: \"35vh\"\n          },\n          src: this.props.image[0],\n          alt: \"product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"35vh\",\n            height: \"35vh\"\n          },\n          src: this.state.images[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"35vh\",\n            height: \"35vh\"\n          },\n          src: image[2]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this);\n\n      return a;\n    };\n\n    console.log(\"props\", props);\n    this.state = {\n      notloggedin: false,\n      product: \"\",\n      im: \"\",\n      num: \"\",\n      qnt: 1,\n      size: [],\n      newprice: \"\",\n      oldprice: \"\",\n      userId: \"\",\n      basketId: \"\",\n      selectedsize: \"\",\n      countInStock: \"\",\n      images: [],\n      desc: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.  \",\n      name: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        defaultActiveKey: \"Product\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"Product\",\n          title: \"Product\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              width: \"max-content\",\n              opacity: \"\",\n              marginTop: \"5vh\",\n              textAlign: \"-webkit-center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              style: {\n                width: \"100%\",\n                marginRight: \"1vh\",\n                marginLeft: \"1vh\",\n                maxWidth: \"initial\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                style: {\n                  margin: \"5vh\",\n                  justifyContent: \"space-around\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    style: {\n                      width: \"45vh\",\n                      height: \"65vh\",\n                      margin: \"2vh\",\n                      marginLeft: \"5vh\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(AliceCarousel, {\n                      disableButtonsControls: true,\n                      mouseTracking: false,\n                      responsive: true,\n                      autoPlay: true,\n                      autoPlayInterval: \"3000\",\n                      style: {\n                        height: \"60vh\",\n                        width: \"40\",\n                        marginBottom: \"5vh\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: image[0],\n                        alt: \"product\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: this.state.images[0]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 267,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: image[0]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  style: {\n                    marginLeft: \"15vh\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      marginTop: \"3vh\"\n                    },\n                    children: this.state.product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      style: {\n                        margin: \"3vh\"\n                      },\n                      children: this.state.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    style: {\n                      margin: \"3vh\"\n                    },\n                    children: [\" Stock: \", this.state.product.countInStock]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      margin: \"3vh\"\n                    },\n                    class: \"price\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"price\",\n                      style: {\n                        marginBottom: \"0px\",\n                        textDecorationLine: \"line-through\"\n                      },\n                      children: [\"$\", this.state.oldprice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"price\",\n                      style: {\n                        marginTop: \"5px\"\n                      },\n                      children: [\"$\", this.state.newprice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      justifyContent: \"center\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Sizes\", /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: this.state.value,\n                        onChange: this.handleChangeSize,\n                        children: this.handleOptions()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      marginTop: \"5vh\",\n                      justifyContent: \"center\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"quantity\",\n                      style: {\n                        marginRight: \"3vh\",\n                        marginTop: \"1vh\"\n                      },\n                      children: [\"Quantity\", \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"demo-simple-select-label\",\n                      id: \"demo-simple-select\",\n                      value: this.state.qnt,\n                      onChange: this.handleChangeQuantity,\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 1,\n                        children: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 2,\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 3,\n                        children: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 4,\n                        children: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 306,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 5,\n                        children: \"5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 6,\n                        children: \"6\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 49\n                      }, this), this.handleMenuItem]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(CardLink, {\n                    onClick: () => {\n                      this.handleBasket();\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        marginTop: \"5vh\"\n                      },\n                      children: \"Add to Cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"Reviews\",\n          title: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: JSON.stringify(this.state)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default product;","map":{"version":3,"sources":["/Users/nidanurgunay/Desktop/cs308/e-commerce-frontend/src/product.js"],"names":["React","Component","AliceCarousel","Tab","Tabs","ReactStars","CardLink","Col","Container","Form","Input","Modal","Row","tracker","Alert","Select","InputLabel","MenuItem","menSneakers1","size","image","product","constructor","props","componentDidMount","id","match","params","im","ar","num","console","log","response","get","data","setState","name","oldprice","price","newprice","desc","description","state","images","e","handleChangeSize","selectedsize","target","value","handleChangeQuantity","qnt","handleMenuItem","menuitem","handleBasket","basket","localStorage","getItem","_id","userId","tprice","post","productList","totalprice","productArray","quantity","basketid","setItem","user","basketresponse","sel_size","qua","p_name","includes","array","i","length","put","handleOptions","opts","opti","push","handleLogin","loggedin","notloggedin","handlecrousel","a","height","width","marginBottom","basketId","countInStock","render","opacity","marginTop","textAlign","marginRight","marginLeft","maxWidth","margin","justifyContent","textDecorationLine","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./SelectOpt\";\nimport \"./Checkbox\";\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport ReactStars from \"react-rating-stars-component\";\nimport { CardLink, Col, Container, Form, Input, Modal, Row } from \"reactstrap\";\n\nimport tracker from \"../src/api/tracker\";\nimport Alert from 'react-bootstrap/Alert';\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport menSneakers1 from \"./campaign1.jpg\";\n\n\nvar size = [];\nvar image = [];\nclass product extends Component {\n  \n    constructor(props) {\n        super(props);\n        console.log(\"props\", props)\n        this.state = {\n            notloggedin: false,\n\n            product: \"\",\n            im: \"\",\n            num: \"\",\n            qnt: 1,\n            size: [],\n            newprice: \"\",\n            oldprice: \"\",\n            userId: \"\",\n            basketId: \"\",\n            selectedsize: \"\",\n            countInStock: \"\",\n            images: [],\n            desc:\n                \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.  \",\n            name: \"\",\n\n\n        }\n    }\n    componentDidMount = async () => {\n        try {\n            const id = this.props.match.params.id;\n            const im = this.props.match.params.ar;\n            const num = this.props.match.params.num;\n\n            console.log(num);\n            const response = await tracker.get(\"product/\" + id);\n            console.log(\"res\", response.data);\n            this.setState({ product: response.data, name: response.data.name, im: im, num: num, oldprice: response.data.price, newprice: response.data.newprice, desc: response.data.description });\n\n            this.setState({ size: [...this.state.size, ...response.data.size], images: [...this.state.images, ...response.data.image] });\n            size = response.data.size;\n            image = response.data.image;\n            console.log(\"size\", this.state.size);\n            console.log(\"price\", this.state.price);\n            console.log(\"imagesss\", this.state.images);\n            console.log(\"image\", image);\n\n        } catch (e) { }\n    };\n    handleChangeSize = (e) => {\n        this.setState({ selectedsize: e.target.value });\n    };\n    handleChangeQuantity = (e) => {\n        this.setState({ qnt: e.target.value });\n    };\n\n    handleMenuItem = () => {\n        var menuitem = \"\";\n        if (this.state.im == \"mb\") {\n        }\n        return menuitem;\n    };\n\n    handleBasket = async () => {\n        console.log(\"handlebaskett\")\n        var basket = localStorage.getItem(\"basket\");\n\n        const id = this.state.product._id;\n        var userId = localStorage.getItem(\"userId\");\n        this.setState({ userId: userId });\n        console.log(\"basketıd\", basket)\n        if (basket === null) {\n\n            console.log(userId);\n            if (userId === null) {\n\n                try {\n                    var tprice = this.state.newprice * this.state.qnt;\n                    const response = await tracker.post(\"/basket\", {\n                        productList: {\n                            totalprice: tprice,\n                            productArray: [\n                                {\n                                    size: this.state.selectedsize,\n                                    name: this.state.name,\n                                    quantity: this.state.qnt,\n                                    price: this.state.newprice,\n                                    product: id,\n                                },\n                            ],\n                        },\n                    });\n\n                    console.log(\"cart\", response);\n                    const basketid = response.data._id;\n                    localStorage.setItem(\"basket\", basketid);\n                } catch (e) { }\n            }\n            else {\n                console.log(\"elsedeyimm\")\n                try {\n                    var tprice = this.state.newprice * this.state.qnt;\n                    const response = await tracker.post(\"/basket\", {\n                        user: userId,\n                        productList: {\n                            totalprice: tprice,\n                            productArray: [\n                                {\n                                    size: this.state.selectedsize,\n                                    name: this.state.name,\n                                    quantity: this.state.qnt,\n                                    price: this.state.newprice,\n                                    product: id,\n                                },\n                            ],\n                        },\n                    });\n\n                    console.log(\"cart\", response);\n                    const basketid = response.data._id;\n                    localStorage.setItem(\"basket\", basketid);\n                } catch (e) { }\n            }\n        }\n        else {\n\n            try {\n\n                const basketresponse = await tracker.get(\"basket/\" + basket);\n                const sel_size = this.state.selectedsize;\n                const qua = this.state.qnt;\n                const price = this.state.newprice;\n                const p_name = this.state.name;\n                console.log(\"basket response: \", basketresponse);\n                var includes = false;\n                const array = basketresponse.data.productList.productArray;\n                console.log(\"array: \", array);\n                for (var i = 0; i < array.length; i++) {\n                    console.log(\"array[i].product: \", array[i].product);\n                    if (array[i].product === id) {\n                        includes = true;\n                        break;\n                    }\n                    else\n                        includes = false;\n                }\n                var tprice = this.state.price * this.state.qnt;\n                if (includes === false) {\n                    console.log(\"size:\", sel_size);\n                    console.log(\"quantity:\", qua);\n                    console.log(\"price:\", price);\n                    console.log(\"name:\", p_name);\n                    const response = await tracker.put(\"basket/\" + basket,\n                        {\n                            size: this.state.selectedsize,\n                            name: this.state.name,\n                            quantity: this.state.qnt,\n                            price: this.state.newprice,\n                            product: id,\n                        },\n\n\n                    );\n                    console.log(\"baskette aynı ürün yok, response: \", response);\n                }\n                else if (includes === true) {\n\n                    console.log(\"baskette aynı ürün var 1 ekle\");\n                    for (var i = 0; i < this.state.qnt; i++) {\n                        const response = await tracker.put(\"basket/byOne/\" + basket, {\n                            product: id\n                        });\n                        console.log(\"add_one response\", response);\n                    }\n\n                }\n\n            }\n\n            catch { }\n\n\n        };\n\n    }\n\n\n    handleOptions = () => {\n        var opts = [];\n\n        for (var i = 0; i < this.state.size.length; i++) {\n            var opti = <option value={this.state.size[i]}>{this.state.size[i]}</option>;\n            opts.push(opti);\n        }\n\n        return opts;\n    };\n\n    handleLogin = () => {\n        var loggedin = localStorage.getItem('token');\n        console.log(\"token: \", loggedin);\n        if (loggedin === null) {\n            this.setState({ notloggedin: true });\n        }\n        else {\n            this.setState({ notloggedin: false });\n        }\n    }\n    handlecrousel = () => {\n        var a =\n            <AliceCarousel\n                disableButtonsControls={true}\n                mouseTracking={false}\n                responsive\n                autoPlay\n                autoPlayInterval=\"3000\"\n                style={{ height: \"60vh\", width: \"40\", marginBottom: \"5vh\" }}\n            >\n                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.props.image[0]} alt=\"product\" />\n                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.state.images[1]} />\n                <img style={{ width: \"35vh\", height: \"35vh\" }} src={image[2]} />\n            </AliceCarousel>\n\n        return a;\n    }\n\n    render() {\n\n        return (\n            <>\n                <Tabs defaultActiveKey=\"Product\">\n                    <Tab eventKey=\"Product\" title=\"Product\">\n                        <Container style={{ width: \"max-content\", opacity: \"\", marginTop: \"5vh\", textAlign: \"-webkit-center\" }}>\n\n                            <div className=\"card\" style={{ width: \"100%\", marginRight: \"1vh\", marginLeft: \"1vh\", maxWidth: \"initial\" }}>\n                                <Row style={{ margin: \"5vh\", justifyContent: \"space-around\" }}>\n                                    <Col>\n                                        <div className=\"card\" style={{ width: \"45vh\", height: \"65vh\", margin: \"2vh\", marginLeft: \"5vh\" }}>\n                                            <AliceCarousel\n                                                disableButtonsControls={true}\n                                                mouseTracking={false}\n                                                responsive\n                                                autoPlay\n                                                autoPlayInterval=\"3000\"\n                                                style={{ height: \"60vh\", width: \"40\", marginBottom: \"5vh\" }}\n                                            >\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={image[0]} alt=\"product\" />\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.state.images[0]} />\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={image[0]} />\n                                            </AliceCarousel>\n\n                                        </div>\n                                    </Col>\n                                    <Col style={{ marginLeft: \"15vh\" }}>\n                                        <h1 style={{ marginTop: \"3vh\" }}>{this.state.product.name}</h1>\n                                        <Row>\n                                            <h3 style={{ margin: \"3vh\" }}>{this.state.desc}</h3>\n                                        </Row>\n                                        <h3 style={{ margin: \"3vh\" }}> Stock: {this.state.product.countInStock}</h3>\n\n                                        <h1 style={{ margin: \"3vh\" }} class=\"price\">\n                                            <p class=\"price\" style={{ marginBottom: \"0px\", textDecorationLine: \"line-through\" }}>${this.state.oldprice}</p>\n                                            <p class=\"price\" style={{ marginTop: \"5px\" }}>${this.state.newprice}</p>\n                                        </h1>\n\n                                        <div className=\"row\" style={{ justifyContent: \"center\" }}>\n                                            <label>\n                                                Sizes\n                    <select value={this.state.value} onChange={this.handleChangeSize}>\n                                                    {this.handleOptions()}\n                                                </select>\n                                            </label>\n                                        </div>\n                                        <div className=\"row\" style={{ marginTop: \"5vh\", justifyContent: \"center\" }}>\n                                            <InputLabel id=\"quantity\" style={{ marginRight: \"3vh\", marginTop: \"1vh\" }}>\n                                                Quantity{\" \"}\n                                            </InputLabel>\n                                            <Select\n                                                labelId=\"demo-simple-select-label\"\n                                                id=\"demo-simple-select\"\n                                                value={this.state.qnt}\n                                                onChange={this.handleChangeQuantity}\n                                            >\n                                                <MenuItem value={1}>1</MenuItem>\n                                                <MenuItem value={2}>2</MenuItem>\n                                                <MenuItem value={3}>3</MenuItem>\n                                                <MenuItem value={4}>4</MenuItem>\n                                                <MenuItem value={5}>5</MenuItem>\n                                                <MenuItem value={6}>6</MenuItem>\n\n                                                {this.handleMenuItem}\n                                            </Select>\n                                        </div>\n                                        <CardLink\n                                            onClick={() => {\n                                                this.handleBasket();\n                                            }}\n                                        >\n                                            <button style={{ marginTop: \"5vh\" }}>Add to Cart</button>\n                                        </CardLink>\n                                    </Col>\n                                </Row>\n                            </div>\n                        </Container>\n                    </Tab>\n                    <Tab eventKey=\"Reviews\" title=\"Reviews\">\n\n                    </Tab>\n                </Tabs>\n                <div>\n                    {\n                        JSON.stringify(this.state)\n                    }\n                </div>\n            </>\n        );\n    }\n}\n\nexport default product;"]},"metadata":{},"sourceType":"module"}