{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/nidanurgunay/Desktop/cs308/e-commerce-frontend/src/product.js\";\nimport React, { Component } from \"react\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./SelectOpt\";\nimport \"./Checkbox\";\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport { CardLink, Col, Container, Form, Input, Modal, Row } from \"reactstrap\";\nimport ReactStars from \"react-rating-stars-component\";\nimport tracker from \"../src/api/tracker\";\nimport Alert from 'react-bootstrap/Alert';\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport menSneakers1 from \"./campaign1.jpg\";\nvar size = [];\nvar image = [];\n\nclass product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      try {\n        const id = this.props.match.params.id;\n        const im = this.props.match.params.ar;\n        const num = this.props.match.params.num;\n        console.log(num);\n        const response = await tracker.get(\"product/\" + id);\n        console.log(\"res\", response.data);\n        await this.setState({\n          product: response.data,\n          name: response.data.name,\n          im: im,\n          num: num,\n          oldprice: response.data.price,\n          newprice: response.data.newprice,\n          desc: response.data.description\n        });\n        await this.setState({\n          size: [...this.state.size, ...response.data.size],\n          images: [...this.state.images, ...response.data.image]\n        });\n        size = response.data.size;\n        image = response.data.image; // debugger;\n\n        console.log(\"size\", this.state.size);\n        console.log(\"price\", this.state.newprice);\n        console.log(response.data.commentId);\n\n        if (typeof response.data.commentId !== 'undefined') {\n          await this.setState({\n            commentId: response.data.commentId\n          });\n        }\n\n        if (this.state.commentId !== \"\") {\n          try {\n            const commentresponse = await tracker.get(\"comment/\" + this.state.commentId);\n            console.log(\"commentresponse:\", commentresponse);\n            const arraycomments = commentresponse.data.comments;\n            await this.setState({\n              Comments: arraycomments\n            });\n            console.log(\"state\", this.state.Comments);\n          } catch (e) {\n            console.log(e);\n          }\n        }\n\n        console.log(\"commentid:\", this.state.commentId);\n        var loggedin = localStorage.getItem('userId');\n        console.log(\"userId: \", loggedin);\n\n        if (loggedin === null) {\n          this.setState({\n            notloggedin: true\n          });\n        } else {\n          await this.setState({\n            notloggedin: false\n          });\n        }\n      } catch (e) {}\n    };\n\n    this.handleChangeSize = e => {\n      console.log(this.state.images);\n      this.setState({\n        selectedsize: e.target.value\n      });\n    };\n\n    this.handleChangeQuantity = e => {\n      this.setState({\n        qnt: e.target.value\n      });\n    };\n\n    this.handleMenuItem = () => {\n      var menuitem = \"\";\n\n      if (this.state.im == \"mb\") {}\n\n      return menuitem;\n    };\n\n    this.handleValue = e => {\n      this.setState({\n        txt: e.target.value\n      });\n    };\n\n    this.handleRating = e => {\n      console.log(\"handlerating: \", e);\n      this.setState({\n        rating: e\n      });\n    };\n\n    this.handleComment = async () => {\n      const id = this.state.commentId;\n      debugger;\n      console.log(\"handleComment id:\", id);\n\n      if (!this.state.notloggedin) {\n        try {\n          const userid = await localStorage.getItem(\"userId\");\n\n          if (!id) {\n            console.log(\"rating: \", this.state.rating);\n            console.log(\"text: \", this.state.txt);\n            console.log(\"product: \", this.state.product._id);\n            console.log(\"rating:\", this.state.rating);\n            console.log(\"user:\", localStorage.getItem(\"userId\"));\n            const user = localStorage.getItem(\"userId\");\n            const response = await tracker.post(\"/comment\", {\n              totalRate: this.state.rating,\n              product: this.state.product._id,\n              comments: [{\n                user: user,\n                rating: this.state.rating,\n                text: this.state.txt\n              }]\n            });\n            console.log(response);\n            console.log(\"comment is posted\");\n          } else {\n            console.log(\"else\");\n            const putresponse = await tracker.put(\"/comment/\" + id, {\n              user: userid,\n              //duzeltilecek\n              rating: this.state.rating,\n              text: this.state.txt\n            });\n            console.log(\"resputt\", putresponse.data);\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    };\n\n    this.getOtherReviews = async () => {\n      console.log(\"comıd\", this.state.commentId);\n\n      if (this.state.commentId !== \"\") {\n        try {\n          const commentresponse = await tracker.get(\"/comment\" + this.state.commentId);\n          console.log(\"commentresponse:\", commentresponse);\n          const arraycomments = commentresponse.data.comments;\n          this.setState({\n            Comments: arraycomments\n          });\n          console.log(\"state\", this.state.Comments);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    };\n\n    this.otherReviews = () => {\n      //this.getOtherReviews();\n      console.log(\"otherReviews\", this.state.Comments);\n      console.log(\"otherReviews ll \", this.state.Comments.length);\n      var com_array = [];\n\n      try {\n        if (typeof this.state.Comments !== 'undefined') {\n          var commentitem;\n          console.log(\"otherReviews ll2 \", this.state.Comments.length);\n\n          for (var i = 0; i < this.state.Comments.length; i++) {\n            console.log(\"fordayımmmm\", this.state.Comments[i]);\n            console.log(\"for\", this.state.Comments[i].isValid);\n\n            if (this.state.Comments[i].isValid === true) {\n              const commentid = this.state.Comments[i]._id;\n              const user = this.state.Comments[i].user;\n              const rating = this.state.Comments[i].rating;\n              const text = this.state.Comments[i].text;\n              console.log(\"rating\", rating);\n              commentitem = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(ReactStars, {\n                  edit: false,\n                  count: 5,\n                  value: rating,\n                  disableButtonsControls: true,\n                  size: 24,\n                  isHalf: false,\n                  emptyIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"far fa-star\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 48\n                  }, this),\n                  halfIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-star-half-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 47\n                  }, this),\n                  fullIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-star\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 47\n                  }, this),\n                  activeColor: \"#ffd700\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 29\n              }, this);\n              com_array.push(commentitem);\n            }\n          }\n        }\n\n        return com_array;\n      } catch (e) {}\n    };\n\n    this.handleBasket = async () => {\n      console.log(\"handlebaskett\");\n      var basket = localStorage.getItem(\"basket\");\n      const id = this.state.product._id;\n      var userId = localStorage.getItem(\"userId\");\n      this.setState({\n        userId: userId\n      });\n      console.log(\"basketıd\", basket);\n\n      if (basket === null) {\n        console.log(userId);\n\n        if (userId === null) {\n          try {\n            var tprice = this.state.newprice * this.state.qnt;\n            const response = await tracker.post(\"/basket\", {\n              productList: {\n                totalprice: tprice,\n                productArray: [{\n                  size: this.state.selectedsize,\n                  name: this.state.name,\n                  quantity: this.state.qnt,\n                  price: this.state.newprice,\n                  product: id,\n                  image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n                }]\n              }\n            });\n            console.log(\"cart\", response);\n            const basketid = response.data._id;\n            localStorage.setItem(\"basket\", basketid);\n          } catch (e) {}\n        } else {\n          console.log(\"elsedeyimm\");\n\n          try {\n            var tprice = this.state.newprice * this.state.qnt;\n            console.log(\"im\", this.state.images[0]);\n            const response = await tracker.post(\"/basket\", {\n              user: userId,\n              productList: {\n                totalprice: tprice,\n                productArray: [{\n                  size: this.state.selectedsize,\n                  name: this.state.name,\n                  quantity: this.state.qnt,\n                  price: this.state.newprice,\n                  product: id,\n                  image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n                }]\n              }\n            });\n            console.log(\"cart\", response);\n            const basketid = response.data._id;\n            localStorage.setItem(\"basket\", basketid);\n          } catch (e) {}\n        }\n      } else {\n        try {\n          const basketresponse = await tracker.get(\"basket/\" + basket);\n          const sel_size = this.state.selectedsize;\n          const qua = this.state.qnt;\n          const price = this.state.newprice;\n          const p_name = this.state.name;\n          console.log(\"basket response: \", basketresponse);\n          var includes = false;\n          const array = basketresponse.data.productList.productArray;\n          console.log(\"array: \", array);\n\n          for (var i = 0; i < array.length; i++) {\n            console.log(\"array[i].product: \", array[i].product);\n\n            if (array[i].product === id) {\n              includes = true;\n              break;\n            } else includes = false;\n          }\n\n          var tprice = this.state.price * this.state.qnt;\n\n          if (includes === false) {\n            console.log(\"size:\", sel_size);\n            console.log(\"quantity:\", qua);\n            console.log(\"price:\", price);\n            console.log(\"name:\", p_name);\n            console.log(\"imm\", this.state.images[0]);\n            const response = await tracker.put(\"basket/\" + basket, {\n              size: this.state.selectedsize,\n              name: this.state.name,\n              quantity: this.state.qnt,\n              price: this.state.newprice,\n              product: id,\n              image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n            });\n            console.log(\"baskette aynı ürün yok, response: \", response);\n          } else if (includes === true) {\n            console.log(\"baskette aynı ürün var 1 ekle\");\n\n            for (var i = 0; i < this.state.qnt; i++) {\n              const response = await tracker.put(\"basket/byOne/\" + basket, {\n                product: id\n              });\n              console.log(\"add_one response\", response);\n            }\n          }\n        } catch {}\n      }\n\n      ;\n    };\n\n    this.handleOptions = () => {\n      var opts = [];\n\n      for (var i = 0; i < this.state.size.length; i++) {\n        var opti = /*#__PURE__*/_jsxDEV(\"option\", {\n          value: this.state.size[i],\n          children: this.state.size[i]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 24\n        }, this);\n\n        opts.push(opti);\n      }\n\n      return opts;\n    };\n\n    this.handleLogin = () => {\n      var loggedin = localStorage.getItem('token');\n      console.log(\"token: \", loggedin);\n\n      if (loggedin === null) {\n        this.setState({\n          notloggedin: true\n        });\n      } else {\n        this.setState({\n          notloggedin: false\n        });\n      }\n    };\n\n    console.log(\"props\", props);\n    this.state = {\n      notloggedin: true,\n      rating: 0,\n      avg_rate: 0,\n      txt: \"Type your comment here!\",\n      Comments: [],\n      commentId: \"\",\n      product: \"\",\n      im: \"\",\n      num: \"\",\n      qnt: 1,\n      size: [],\n      newprice: \"\",\n      oldprice: \"\",\n      userId: \"\",\n      basketId: \"\",\n      selectedsize: \"\",\n      countInStock: \"\",\n      images: [],\n      desc: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.  \",\n      name: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        defaultActiveKey: \"Product\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"Product\",\n          title: \"Product\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              width: \"max-content\",\n              opacity: \"\",\n              marginTop: \"5vh\",\n              textAlign: \"-webkit-center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              style: {\n                width: \"100%\",\n                marginRight: \"1vh\",\n                marginLeft: \"1vh\",\n                maxWidth: \"initial\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                style: {\n                  margin: \"5vh\",\n                  justifyContent: \"space-around\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    style: {\n                      width: \"60vh\",\n                      height: \"60vh\",\n                      margin: \"2vh\",\n                      marginLeft: \"5vh\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(AliceCarousel, {\n                      disableButtonsControls: true,\n                      mouseTracking: false,\n                      responsive: true,\n                      autoPlay: true,\n                      autoPlayInterval: \"3000\",\n                      style: {\n                        height: \"60vh\",\n                        width: \"40vh\",\n                        marginBottom: \"5vh\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: this.state.images[0],\n                        alt: \"product\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: this.state.images[1]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"35vh\",\n                          height: \"35vh\"\n                        },\n                        src: this.state.images[2]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  style: {\n                    marginLeft: \"15vh\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      marginTop: \"3vh\"\n                    },\n                    children: this.state.product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      style: {\n                        margin: \"3vh\"\n                      },\n                      children: this.state.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    style: {\n                      margin: \"3vh\"\n                    },\n                    children: [\" Stock: \", this.state.product.countInStock]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      margin: \"3vh\"\n                    },\n                    class: \"price\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"price\",\n                      style: {\n                        marginBottom: \"0px\",\n                        textDecorationLine: \"line-through\"\n                      },\n                      children: [\"$\", this.state.oldprice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"price\",\n                      style: {\n                        marginTop: \"5px\"\n                      },\n                      children: [\"$\", this.state.newprice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      justifyContent: \"center\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Sizes\", /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: this.state.value,\n                        onChange: this.handleChangeSize,\n                        children: this.handleOptions()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      marginTop: \"5vh\",\n                      justifyContent: \"center\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"quantity\",\n                      style: {\n                        marginRight: \"3vh\",\n                        marginTop: \"1vh\"\n                      },\n                      children: [\"Quantity\", \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"demo-simple-select-label\",\n                      id: \"demo-simple-select\",\n                      value: this.state.qnt,\n                      onChange: this.handleChangeQuantity,\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 1,\n                        children: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 2,\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 3,\n                        children: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 456,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 4,\n                        children: \"4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 5,\n                        children: \"5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: 6,\n                        children: \"6\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 459,\n                        columnNumber: 49\n                      }, this), this.handleMenuItem]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(CardLink, {\n                    onClick: () => {\n                      this.handleBasket();\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        marginTop: \"5vh\"\n                      },\n                      children: \"Add to Cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"Reviews\",\n          title: \"Reviews\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              className: \"form-container\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"form\",\n                children: /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginLeft: \"-72vh\"\n                    },\n                    children: \"Rate the product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n                    count: 5,\n                    value: this.state.rating,\n                    onChange: this.handleRating,\n                    size: 24,\n                    isHalf: false,\n                    emptyIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"far fa-star\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 56\n                    }, this),\n                    halfIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-star-half-alt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 55\n                    }, this),\n                    fullIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-star\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 55\n                    }, this),\n                    activeColor: \"#ffd700\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"Add a comment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        width: \"300px\",\n                        height: \"100px\",\n                        size: \"relative\",\n                        margin: \"2rem\"\n                      },\n                      type: \"text\",\n                      onChange: this.handleValue\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 45\n                    }, this), this.state.notloggedin ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      style: {\n                        color: \"#c29fdc\",\n                        justifyContent: \"space-evenly\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Only subscribed users can comment!\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 502,\n                        columnNumber: 153\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        disabled: \"true\",\n                        onClick: e => this.handleComment(e),\n                        children: \"Send\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 502,\n                        columnNumber: 194\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 71\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"b-login\",\n                        onClick: this.handleComment,\n                        children: \"Send\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 502,\n                        columnNumber: 301\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 279\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      style: {\n                        margin: \"5vh\",\n                        justifyContent: \"space-around\"\n                      },\n                      children: this.otherReviews()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: JSON.stringify(this.state)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default product;","map":{"version":3,"sources":["/Users/nidanurgunay/Desktop/cs308/e-commerce-frontend/src/product.js"],"names":["React","Component","AliceCarousel","Tab","Tabs","CardLink","Col","Container","Form","Input","Modal","Row","ReactStars","tracker","Alert","Select","InputLabel","MenuItem","menSneakers1","size","image","product","constructor","props","componentDidMount","id","match","params","im","ar","num","console","log","response","get","data","setState","name","oldprice","price","newprice","desc","description","state","images","commentId","commentresponse","arraycomments","comments","Comments","e","loggedin","localStorage","getItem","notloggedin","handleChangeSize","selectedsize","target","value","handleChangeQuantity","qnt","handleMenuItem","menuitem","handleValue","txt","handleRating","rating","handleComment","userid","_id","user","post","totalRate","text","putresponse","put","getOtherReviews","otherReviews","length","com_array","commentitem","i","isValid","commentid","push","handleBasket","basket","userId","tprice","productList","totalprice","productArray","quantity","basketid","setItem","basketresponse","sel_size","qua","p_name","includes","array","handleOptions","opts","opti","handleLogin","avg_rate","basketId","countInStock","render","width","opacity","marginTop","textAlign","marginRight","marginLeft","maxWidth","margin","justifyContent","height","marginBottom","textDecorationLine","color","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./SelectOpt\";\nimport \"./Checkbox\";\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport { CardLink, Col, Container, Form, Input, Modal, Row } from \"reactstrap\";\n\nimport ReactStars from \"react-rating-stars-component\"\nimport tracker from \"../src/api/tracker\";\nimport Alert from 'react-bootstrap/Alert';\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport menSneakers1 from \"./campaign1.jpg\";\n\n\n\nvar size = [];\nvar image = [];\nclass product extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", props)\n        this.state = {\n            notloggedin: true,\n            rating: 0,\n            avg_rate: 0,\n            txt: \"Type your comment here!\",\n            Comments: [],\n            commentId: \"\",\n            product: \"\",\n            im: \"\",\n            num: \"\",\n            qnt: 1,\n            size: [],\n            newprice: \"\",\n            oldprice: \"\",\n            userId: \"\",\n            basketId: \"\",\n            selectedsize: \"\",\n            countInStock: \"\",\n            images: [],\n            desc:\n                \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.  \",\n            name: \"\",\n\n\n        }\n    }\n    componentDidMount = async () => {\n        try {\n            const id = this.props.match.params.id;\n            const im = this.props.match.params.ar;\n            const num = this.props.match.params.num;\n\n            console.log(num);\n            const response = await tracker.get(\"product/\" + id);\n            console.log(\"res\", response.data);\n            await this.setState({ product: response.data, name: response.data.name, im: im, num: num, oldprice: response.data.price, newprice: response.data.newprice, desc: response.data.description });\n\n            await this.setState({ size: [...this.state.size, ...response.data.size], images: [...this.state.images, ...response.data.image] });\n            size = response.data.size;\n            image = response.data.image;\n            // debugger;\n            console.log(\"size\", this.state.size);\n            console.log(\"price\", this.state.newprice);\n            console.log(response.data.commentId);\n            if (typeof response.data.commentId !== 'undefined') {\n\n                await this.setState({ commentId: response.data.commentId });\n            }\n            if (this.state.commentId !== \"\") {\n                try {\n                    const commentresponse = await tracker.get(\"comment/\" + this.state.commentId);\n\n                    console.log(\"commentresponse:\", commentresponse);\n                    const arraycomments = commentresponse.data.comments;\n                    await this.setState({ Comments: arraycomments });\n                    console.log(\"state\", this.state.Comments);\n\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n            console.log(\"commentid:\", this.state.commentId);\n            var loggedin = localStorage.getItem('userId');\n            console.log(\"userId: \", loggedin);\n            if (loggedin === null) {\n                this.setState({ notloggedin: true });\n\n            }\n            else {\n                await this.setState({ notloggedin: false });\n            }\n\n        } catch (e) { }\n    };\n    handleChangeSize = (e) => {\n        console.log(this.state.images)\n        this.setState({ selectedsize: e.target.value });\n    };\n    handleChangeQuantity = (e) => {\n        this.setState({ qnt: e.target.value });\n    };\n\n    handleMenuItem = () => {\n        var menuitem = \"\";\n        if (this.state.im == \"mb\") {\n        }\n        return menuitem;\n    };\n    handleValue = (e) => {\n        this.setState({ txt: e.target.value });\n    }\n    handleRating = (e) => {\n        console.log(\"handlerating: \", e)\n        this.setState({ rating: e });\n    }\n    handleComment = async () => {\n\n        const id = this.state.commentId;\n        debugger;\n        console.log(\"handleComment id:\", id);\n        if (!this.state.notloggedin) {\n            try {\n\n\n                const userid = await localStorage.getItem(\"userId\");\n                if (!id) {\n                    console.log(\"rating: \", this.state.rating);\n                    console.log(\"text: \", this.state.txt);\n                    console.log(\"product: \", this.state.product._id);\n                    console.log(\"rating:\", this.state.rating);\n                    console.log(\"user:\", localStorage.getItem(\"userId\"));\n                    const user = localStorage.getItem(\"userId\");\n                    const response = await tracker.post(\"/comment\",\n                        {\n\n                            totalRate: this.state.rating,\n                            product: this.state.product._id,\n                            comments: [\n                                {\n                                    user: user,\n                                    rating: this.state.rating,\n                                    text: this.state.txt\n                                },\n                            ],\n\n                        });\n                    console.log(response);\n                    console.log(\"comment is posted\");\n                }\n                else {\n                    console.log(\"else\");\n                    const putresponse = await tracker.put(\"/comment/\" + id,\n                        {\n                            user: userid, //duzeltilecek\n                            rating: this.state.rating,\n                            text: this.state.txt\n                        });\n\n                    console.log(\"resputt\", putresponse.data);\n                }\n\n\n            } catch (e) {\n                console.log(e);\n            }\n        }\n\n    };\n    getOtherReviews = async () => {\n\n        console.log(\"comıd\", this.state.commentId)\n        if (this.state.commentId !== \"\") {\n            try {\n                const commentresponse = await tracker.get(\"/comment\" + this.state.commentId);\n\n                console.log(\"commentresponse:\", commentresponse);\n                const arraycomments = commentresponse.data.comments;\n                this.setState({ Comments: arraycomments });\n                console.log(\"state\", this.state.Comments);\n\n            } catch (e) {\n                console.log(e);\n            }\n        }\n    }\n    otherReviews = () => {\n\n        //this.getOtherReviews();\n        console.log(\"otherReviews\", this.state.Comments);\n        console.log(\"otherReviews ll \", this.state.Comments.length);\n        var com_array = [];\n\n\n        try {\n\n            if (typeof this.state.Comments !== 'undefined') {\n                var commentitem;\n                console.log(\"otherReviews ll2 \", this.state.Comments.length);\n                for (var i = 0; i < this.state.Comments.length; i++) {\n                    console.log(\"fordayımmmm\", this.state.Comments[i]);\n                    console.log(\"for\", this.state.Comments[i].isValid);\n\n                    if (this.state.Comments[i].isValid === true) {\n                        const commentid = this.state.Comments[i]._id;\n                        const user = this.state.Comments[i].user;\n                        const rating = this.state.Comments[i].rating;\n                        const text = this.state.Comments[i].text;\n                        console.log(\"rating\", rating);\n                        commentitem = (\n                            <div>\n                                <ReactStars\n                                    edit={false}\n                                    count={5}\n                                    value={rating}\n                                    disableButtonsControls={true}\n                                    size={24}\n                                    isHalf={false}\n                                    emptyIcon={<i className=\"far fa-star\"></i>}\n                                    halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                                    fullIcon={<i className=\"fa fa-star\"></i>}\n                                    activeColor=\"#ffd700\"\n                                />\n                                <p>{text}</p>\n                            </div>\n                        );\n                        com_array.push(commentitem);\n\n                    }\n\n                }\n\n\n            }\n            return (com_array);\n        } catch (e) { }\n\n\n\n    }\n\n    handleBasket = async () => {\n        console.log(\"handlebaskett\")\n        var basket = localStorage.getItem(\"basket\");\n\n        const id = this.state.product._id;\n        var userId = localStorage.getItem(\"userId\");\n        this.setState({ userId: userId });\n        console.log(\"basketıd\", basket)\n        if (basket === null) {\n\n            console.log(userId);\n            if (userId === null) {\n\n                try {\n                    var tprice = this.state.newprice * this.state.qnt;\n                    const response = await tracker.post(\"/basket\", {\n                        productList: {\n                            totalprice: tprice,\n                            productArray: [\n                                {\n                                    size: this.state.selectedsize,\n                                    name: this.state.name,\n                                    quantity: this.state.qnt,\n                                    price: this.state.newprice,\n                                    product: id,\n                                    image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n                                },\n                            ],\n                        },\n                    });\n\n                    console.log(\"cart\", response);\n                    const basketid = response.data._id;\n                    localStorage.setItem(\"basket\", basketid);\n                } catch (e) { }\n            }\n            else {\n                console.log(\"elsedeyimm\")\n                try {\n                    var tprice = this.state.newprice * this.state.qnt;\n                    console.log(\"im\", this.state.images[0])\n                    const response = await tracker.post(\"/basket\", {\n                        user: userId,\n                        productList: {\n                            totalprice: tprice,\n                            productArray: [\n                                {\n                                    size: this.state.selectedsize,\n                                    name: this.state.name,\n                                    quantity: this.state.qnt,\n                                    price: this.state.newprice,\n                                    product: id,\n                                    image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n                                },\n                            ],\n                        },\n                    });\n\n                    console.log(\"cart\", response);\n                    const basketid = response.data._id;\n                    localStorage.setItem(\"basket\", basketid);\n                } catch (e) { }\n            }\n        }\n        else {\n\n            try {\n\n                const basketresponse = await tracker.get(\"basket/\" + basket);\n                const sel_size = this.state.selectedsize;\n                const qua = this.state.qnt;\n                const price = this.state.newprice;\n                const p_name = this.state.name;\n                console.log(\"basket response: \", basketresponse);\n                var includes = false;\n                const array = basketresponse.data.productList.productArray;\n                console.log(\"array: \", array);\n                for (var i = 0; i < array.length; i++) {\n                    console.log(\"array[i].product: \", array[i].product);\n                    if (array[i].product === id) {\n                        includes = true;\n                        break;\n                    }\n                    else\n                        includes = false;\n                }\n                var tprice = this.state.price * this.state.qnt;\n                if (includes === false) {\n                    console.log(\"size:\", sel_size);\n                    console.log(\"quantity:\", qua);\n                    console.log(\"price:\", price);\n                    console.log(\"name:\", p_name);\n                    console.log(\"imm\", this.state.images[0])\n                    const response = await tracker.put(\"basket/\" + basket,\n                        {\n                            size: this.state.selectedsize,\n                            name: this.state.name,\n                            quantity: this.state.qnt,\n                            price: this.state.newprice,\n                            product: id,\n                            image: [this.state.images[0], this.state.images[1], this.state.images[2]]\n                        },\n\n\n                    );\n                    console.log(\"baskette aynı ürün yok, response: \", response);\n                }\n                else if (includes === true) {\n\n                    console.log(\"baskette aynı ürün var 1 ekle\");\n                    for (var i = 0; i < this.state.qnt; i++) {\n                        const response = await tracker.put(\"basket/byOne/\" + basket, {\n                            product: id\n                        });\n                        console.log(\"add_one response\", response);\n                    }\n                }\n            }\n            catch { }\n        };\n    }\n\n\n    handleOptions = () => {\n        var opts = [];\n\n        for (var i = 0; i < this.state.size.length; i++) {\n            var opti = <option value={this.state.size[i]}>{this.state.size[i]}</option>;\n            opts.push(opti);\n        }\n\n        return opts;\n    };\n\n    handleLogin = () => {\n        var loggedin = localStorage.getItem('token');\n        console.log(\"token: \", loggedin);\n        if (loggedin === null) {\n            this.setState({ notloggedin: true });\n        }\n        else {\n            this.setState({ notloggedin: false });\n        }\n    }\n\n\n    render() {\n\n\n        return (\n            <>\n                <Tabs defaultActiveKey=\"Product\">\n                    <Tab eventKey=\"Product\" title=\"Product\">\n                        <Container style={{ width: \"max-content\", opacity: \"\", marginTop: \"5vh\", textAlign: \"-webkit-center\" }}>\n\n                            <div className=\"card\" style={{ width: \"100%\", marginRight: \"1vh\", marginLeft: \"1vh\", maxWidth: \"initial\" }}>\n                                <Row style={{ margin: \"5vh\", justifyContent: \"space-around\" }}>\n                                    <Col>\n\n                                        <div className=\"card\" style={{ width: \"60vh\", height: \"60vh\", margin: \"2vh\", marginLeft: \"5vh\" }}>\n                                            <AliceCarousel\n                                                disableButtonsControls={true}\n                                                mouseTracking={false}\n                                                responsive\n                                                autoPlay\n                                                autoPlayInterval=\"3000\"\n                                                style={{ height: \"60vh\", width: \"40vh\", marginBottom: \"5vh\" }}\n                                            >\n\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.state.images[0]} alt=\"product\" />\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.state.images[1]} />\n                                                <img style={{ width: \"35vh\", height: \"35vh\" }} src={this.state.images[2]} />\n                                            </AliceCarousel>\n\n\n                                        </div>\n                                    </Col>\n                                    <Col style={{ marginLeft: \"15vh\" }}>\n                                        <h1 style={{ marginTop: \"3vh\" }}>{this.state.product.name}</h1>\n                                        <Row>\n                                            <h3 style={{ margin: \"3vh\" }}>{this.state.desc}</h3>\n                                        </Row>\n                                        <h3 style={{ margin: \"3vh\" }}> Stock: {this.state.product.countInStock}</h3>\n\n                                        <h1 style={{ margin: \"3vh\" }} class=\"price\">\n                                            <p class=\"price\" style={{ marginBottom: \"0px\", textDecorationLine: \"line-through\" }}>${this.state.oldprice}</p>\n                                            <p class=\"price\" style={{ marginTop: \"5px\" }}>${this.state.newprice}</p>\n                                        </h1>\n\n                                        <div className=\"row\" style={{ justifyContent: \"center\" }}>\n                                            <label>\n                                                Sizes\n                    <select value={this.state.value} onChange={this.handleChangeSize}>\n                                                    {this.handleOptions()}\n                                                </select>\n                                            </label>\n                                        </div>\n                                        <div className=\"row\" style={{ marginTop: \"5vh\", justifyContent: \"center\" }}>\n                                            <InputLabel id=\"quantity\" style={{ marginRight: \"3vh\", marginTop: \"1vh\" }}>\n                                                Quantity{\" \"}\n                                            </InputLabel>\n                                            <Select\n                                                labelId=\"demo-simple-select-label\"\n                                                id=\"demo-simple-select\"\n                                                value={this.state.qnt}\n                                                onChange={this.handleChangeQuantity}\n                                            >\n                                                <MenuItem value={1}>1</MenuItem>\n                                                <MenuItem value={2}>2</MenuItem>\n                                                <MenuItem value={3}>3</MenuItem>\n                                                <MenuItem value={4}>4</MenuItem>\n                                                <MenuItem value={5}>5</MenuItem>\n                                                <MenuItem value={6}>6</MenuItem>\n\n                                                {this.handleMenuItem}\n                                            </Select>\n                                        </div>\n                                        <CardLink\n                                            onClick={() => {\n                                                this.handleBasket();\n                                            }}\n                                        >\n                                            <button style={{ marginTop: \"5vh\" }}>Add to Cart</button>\n                                        </CardLink>\n                                    </Col>\n                                </Row>\n                            </div>\n                        </Container>\n                    </Tab>\n                    <Tab eventKey=\"Reviews\" title=\"Reviews\" >\n                        < div className=\"form\" >\n                            < Container className=\"form-container\" >\n\n                                < Row className=\"form\" >\n                                    < Form >\n                                        <div style={{ marginLeft: \"-72vh\" }}>Rate the product</div>\n                                        <ReactStars\n                                            count={5}\n                                            value={this.state.rating}\n                                            onChange={this.handleRating}\n                                            size={24}\n                                            isHalf={false}\n                                            emptyIcon={<i className=\"far fa-star\"></i>}\n                                            halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                                            fullIcon={<i className=\"fa fa-star\"></i>}\n                                            activeColor=\"#ffd700\"\n                                        />\n                                        <div>Add a comment</div>\n                                        <div>\n                                            <input\n                                                style={{ width: \"300px\", height: \"100px\", size: \"relative\", margin: \"2rem\" }}\n                                                type=\"text\"\n                                                onChange={this.handleValue}\n                                            />\n                                            <br />\n                                            {this.state.notloggedin ? <div className=\"row\" style={{ color: \"#c29fdc\", justifyContent: \"space-evenly\" }}><p>Only subscribed users can comment!</p><button disabled=\"true\" onClick={(e) => this.handleComment(e)}>Send</button></div> : <div className=\"card\"><button className=\"b-login\" onClick={this.handleComment}>Send</button></div>}\n\n\n                                        </div>\n\n                                        <div>\n                                            <Row style={{ margin: \"5vh\", justifyContent: \"space-around\" }}>{this.otherReviews()}</Row>\n                                        </div>\n                                    </Form >\n\n                                </Row >\n\n                            </Container >\n                        </div>\n                    </Tab>\n                </Tabs>\n                <div>\n                    {\n                        JSON.stringify(this.state)\n                    }\n                </div>\n            </>\n        );\n    }\n}\n\nexport default product;"]},"metadata":{},"sourceType":"module"}